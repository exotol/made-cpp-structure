# made-cpp-structure

В основе образа Ubuntu 20.04

* Большая полезность для Windows (чтобы в ручную не настраивать)
* Если линукс, то можно из Dockerfile взять команды и сделать bash скрипт,
и также все автоматически сконфигурируется, либо копировать команды по одной

#### Должны быть предустановлены:
* docker
* docker-compose 

### Краткая инструкция по запуску

1. Скачиваем проект
2. В `cmd` заходим в `made-cpp-structure/docker`
(чек-поинт - ls выведет `ubuntu` и `docker-compose.yaml`)
3. `docker-compose build`
(иждем минут 5-7 пока все установится)
4. `docker-compose up` 
Благодаря `tty: true` docker-compose запустит контейнер и присоединится к нему,
чтобы он не отключился т.к. в нем ничего не запущено
5. из другой cmd подключаемся к контейнеру
`docker exec -it ubuntu_20_04 bash`
6. Переходим в `cpp/code`, вводим `arm-linux-gnueabi-gcc src/main.cpp`
Получим файл a.out
7. Запускаем на выполнение `sh run_for_arm.sh` 
Если все было сделано верно получим Hello Wolrd!

Проблемы:
* bash скрипт для компиляции почему-то упорно не хочет работать,
поэтому это `arm-linux-gnueabi-gcc src/main.cpp` приходится вводить ручками
* Том монтируется, но почему-то не подтягивает файлы (на виндовс 7, 8), возможно, связано с тем, что
на этих версиях докер контейнер запускается в виртуальной машине и есть проблема с монтированием напрямую между контейнером и windows (по сути из docker-compose мы не можем изменить volume внутри контейнера, но он создается), а как [на видео](https://www.youtube.com/watch?v=OCNzafcF2Yw&ab_channel=DKA-DEVELOP) не получилось - все равно не изменяется, но возможно на линуксе таких проблем нет
Поэтому сделал WA - копируем файлы проекта (еще можно добавить git pull, например) в контейнер (Dockerfile построен таким образом,
что остальные слои кешируются, а перестраиваться будет только слой с кодом и это будет происходить быстро)
